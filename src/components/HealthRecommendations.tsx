import { Card } from "@/components/ui/card";
import { Alert, AlertDescription } from "@/components/ui/alert";
import { Shield, AlertCircle, Droplets, Users, Wind as WindIcon, Heart } from "lucide-react";

interface HealthRecommendationsProps {
  pm25: number;
  hasHealthConditions?: boolean;
  userConditions?: string[];
}

export const HealthRecommendations = ({ pm25, hasHealthConditions, userConditions = [] }: HealthRecommendationsProps) => {
  const getConditionSpecificAdvice = () => {
    const advice: string[] = [];
    
    if (userConditions.includes("asthma")) {
      if (pm25 > 90) {
        advice.push("ЁЯЪи р╣Вр╕гр╕Др╕лр╕нр╕Ър╕лр╕╖р╕Ф: р╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Ър╣Йр╕▓р╕Щр╣Вр╕Фр╕вр╣Ар╕Фр╣Зр╕Фр╕Вр╕▓р╕Ф р╕Ыр╕┤р╕Фр╕Ыр╕гр╕░р╕Хр╕╣р╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф");
        advice.push("ЁЯТК р╣Ар╕Хр╕гр╕╡р╕вр╕бр╕вр╕▓р╕Юр╣Ир╕Щр╕Вр╕вр╕▓р╕вр╕лр╕ер╕нр╕Фр╕ер╕бр╣Др╕зр╣Йр╣Гр╕Бр╕ер╣Йр╕Хр╕▒р╕з р╣Гр╕Кр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡р╕лр╕▓р╕Бр╕бр╕╡р╕нр╕▓р╕Бр╕▓р╕гр╕лр╕▓р╕вр╣Гр╕Ир╕ер╕│р╕Ър╕▓р╕Б");
        advice.push("ЁЯУЮ р╕лр╕▓р╕Бр╕бр╕╡р╕нр╕▓р╕Бр╕▓р╕гр╕лр╕▓р╕вр╣Гр╕Ир╕ер╕│р╕Ър╕▓р╕Бр╕гр╕╕р╕Щр╣Бр╕гр╕З р╣Вр╕Чр╕гр╕лр╕▓ 1669 р╕Чр╕▒р╕Щр╕Чр╕╡");
      } else if (pm25 > 50) {
        advice.push("ЁЯТК р╣Вр╕гр╕Др╕лр╕нр╕Ър╕лр╕╖р╕Ф: р╣Ар╕Хр╕гр╕╡р╕вр╕бр╕вр╕▓р╕Юр╣Ир╕Щр╣Др╕зр╣Йр╣Гр╕Бр╕ер╣Йр╕Хр╕▒р╕з р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕в");
        advice.push("ЁЯШ╖ р╕кр╕зр╕бр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Б N95 р╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╕нр╕нр╕Бр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щ");
      } else if (pm25 > 37) {
        advice.push("тЪая╕П р╣Вр╕гр╕Др╕лр╕нр╕Ър╕лр╕╖р╕Ф: р╕гр╕░р╕зр╕▒р╕Зр╕нр╕▓р╕Бр╕▓р╕гр╕Бр╕│р╣Ар╕гр╕┤р╕Ъ р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕лр╕Щр╕▒р╕Б");
      }
    }

    if (userConditions.includes("copd")) {
      if (pm25 > 90) {
        advice.push("ЁЯЪи COPD: р╕нр╕▒р╕Щр╕Хр╕гр╕▓р╕вр╕кр╕╣р╕Зр╕бр╕▓р╕Б р╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Ър╣Йр╕▓р╕Щр╣Бр╕ер╕░р╣Гр╕Кр╣Йр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Яр╕нр╕Бр╕нр╕▓р╕Бр╕▓р╕и");
        advice.push("ЁЯТК р╣Гр╕Кр╣Йр╕вр╕▓р╕Хр╕▓р╕бр╣Бр╕Юр╕Чр╕вр╣Мр╕кр╕▒р╣Ир╕З р╕лр╕▓р╕Бр╕бр╕╡р╕нр╕▓р╕Бр╕▓р╕гр╣Бр╕вр╣Ир╕ер╕Зр╣Вр╕Чр╕гр╕лр╕▓ 1669");
        advice.push("ЁЯМбя╕П р╕Хр╕гр╕зр╕Ир╕зр╕▒р╕Фр╕нр╕нр╕Бр╕Лр╕┤р╣Ар╕Ир╕Щр╣Гр╕Щр╣Ар╕ер╕╖р╕нр╕Фр╣Ар╕Ыр╣Зр╕Щр╕Ыр╕гр╕░р╕Ир╕│");
      } else if (pm25 > 50) {
        advice.push("тЪая╕П COPD: р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щ р╕Юр╕▒р╕Бр╕Ьр╣Ир╕нр╕Щр╣Гр╕лр╣Йр╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н");
        advice.push("ЁЯТК р╣Гр╕Кр╣Йр╕вр╕▓р╕Юр╣Ир╕Щр╕Хр╕▓р╕бр╕Бр╕│р╕лр╕Щр╕Ф р╕кр╕▒р╕Зр╣Ар╕Бр╕Хр╕нр╕▓р╕Бр╕▓р╕гр╕лр╕▓р╕вр╣Гр╕И");
      }
    }

    if (userConditions.includes("heart")) {
      if (pm25 > 90) {
        advice.push("тЭдя╕П р╣Вр╕гр╕Др╕лр╕▒р╕зр╣Гр╕И: р╕Др╕зр╕▓р╕бр╣Ар╕кр╕╡р╣Ир╕вр╕Зр╕кр╕╣р╕Зр╕бр╕▓р╕Б р╕нр╕вр╕╣р╣Ир╕Ър╣Йр╕▓р╕Щр╣Бр╕ер╕░р╕Юр╕▒р╕Бр╕Ьр╣Ир╕нр╕Щ");
        advice.push("ЁЯТК р╕гр╕▒р╕Ър╕Ыр╕гр╕░р╕Чр╕▓р╕Щр╕вр╕▓р╕лр╕▒р╕зр╣Гр╕Ир╕Хр╕гр╕Зр╣Ар╕зр╕ер╕▓ р╕лр╕▓р╕Бр╣Ар╕Ир╣Зр╕Ър╕лр╕Щр╣Йр╕▓р╕нр╕Бр╣Вр╕Чр╕г 1669 р╕Чр╕▒р╕Щр╕Чр╕╡");
        advice.push("ЁЯЪл р╕Зр╕Фр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕нр╕нр╕Бр╣Бр╕гр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф");
      } else if (pm25 > 50) {
        advice.push("тЭдя╕П р╣Вр╕гр╕Др╕лр╕▒р╕зр╣Гр╕И: р╕Ир╕│р╕Бр╕▒р╕Фр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕З р╕Юр╕▒р╕Бр╕Ьр╣Ир╕нр╕Щр╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н");
        advice.push("ЁЯТК р╕Чр╕▓р╕Щр╕вр╕▓р╕Хр╕▓р╕бр╣Ар╕зр╕ер╕▓р╣Ар╕Др╕гр╣Ир╕Зр╕Др╕гр╕▒р╕Ф р╕кр╕▒р╕Зр╣Ар╕Бр╕Хр╕нр╕▓р╕Бр╕▓р╕гр╣Ар╕Ир╣Зр╕Ър╕лр╕Щр╣Йр╕▓р╕нр╕Б");
      }
    }

    if (userConditions.includes("diabetes")) {
      if (pm25 > 50) {
        advice.push("ЁЯй╕ р╣Ар╕Ър╕▓р╕лр╕зр╕▓р╕Щ: р╕Др╕зр╕Ър╕Др╕╕р╕бр╕Щр╣Йр╕│р╕Хр╕▓р╕ер╣Гр╕лр╣Йр╕Др╕Зр╕Чр╕╡р╣И р╕Эр╕╕р╣Ир╕Щр╕нр╕▓р╕Ир╕Чр╕│р╣Гр╕лр╣Йр╕Бр╕▓р╕гр╕Др╕зр╕Ър╕Др╕╕р╕бр╕вр╕▓р╕Бр╕Вр╕╢р╣Йр╕Щ");
        advice.push("ЁЯТК р╕гр╕▒р╕Ър╕Ыр╕гр╕░р╕Чр╕▓р╕Щр╕вр╕▓р╣Ар╕Ър╕▓р╕лр╕зр╕▓р╕Щр╕Хр╕гр╕Зр╣Ар╕зр╕ер╕▓ р╕Фр╕╖р╣Ир╕бр╕Щр╣Йр╕│р╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н");
      }
    }

    if (userConditions.includes("pregnant")) {
      if (pm25 > 90) {
        advice.push("ЁЯд░ р╕Хр╕▒р╣Йр╕Зр╕Др╕гр╕гр╕ар╣М: р╕нр╕▒р╕Щр╕Хр╕гр╕▓р╕вр╕Хр╣Ир╕нр╕Чр╕▒р╣Йр╕Зр╣Бр╕бр╣Ир╣Бр╕ер╕░р╕ер╕╣р╕Б р╕нр╕вр╕╣р╣Ир╕Ър╣Йр╕▓р╕Щр╣Вр╕Фр╕вр╣Ар╕Фр╣Зр╕Фр╕Вр╕▓р╕Ф");
        advice.push("ЁЯПе р╕лр╕▓р╕Бр╕бр╕╡р╕нр╕▓р╕Бр╕▓р╕гр╕Ьр╕┤р╕Фр╕Ыр╕Бр╕Хр╕┤р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╣Бр╕Юр╕Чр╕вр╣Мр╕Чр╕▒р╕Щр╕Чр╕╡");
        advice.push("ЁЯТз р╕Фр╕╖р╣Ир╕бр╕Щр╣Йр╕│р╕кр╕░р╕нр╕▓р╕Фр╕бр╕▓р╕Бр╣Ж р╕Юр╕▒р╕Бр╕Ьр╣Ир╕нр╕Щр╣Гр╕лр╣Йр╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н");
      } else if (pm25 > 50) {
        advice.push("ЁЯд░ р╕Хр╕▒р╣Йр╕Зр╕Др╕гр╕гр╕ар╣М: р╕ер╕Фр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щ р╣Гр╕Кр╣Йр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Яр╕нр╕Бр╕нр╕▓р╕Бр╕▓р╕и");
        advice.push("ЁЯШ╖ р╕кр╕зр╕бр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Б N95 р╕Цр╣Йр╕▓р╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕Хр╣Йр╕нр╕Зр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕Ър╣Йр╕▓р╕Щ");
      }
    }

    if (userConditions.includes("elderly")) {
      if (pm25 > 90) {
        advice.push("ЁЯС┤ р╕Ьр╕╣р╣Йр╕кр╕╣р╕Зр╕нр╕▓р╕вр╕╕: р╣Ар╕кр╕╡р╣Ир╕вр╕Зр╕кр╕╣р╕Зр╕бр╕▓р╕Б р╕нр╕вр╕╣р╣Ир╕Ър╣Йр╕▓р╕Щр╣Бр╕ер╕░р╣Гр╕Кр╣Йр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Яр╕нр╕Бр╕нр╕▓р╕Бр╕▓р╕и");
        advice.push("ЁЯТК р╕гр╕▒р╕Ър╕Ыр╕гр╕░р╕Чр╕▓р╕Щр╕вр╕▓р╕Ыр╕гр╕░р╕Ир╕│р╕Хр╕гр╕Зр╣Ар╕зр╕ер╕▓ р╕кр╕▒р╕Зр╣Ар╕Бр╕Хр╕нр╕▓р╕Бр╕▓р╕гр╕лр╕▓р╕вр╣Гр╕И");
      } else if (pm25 > 50) {
        advice.push("ЁЯС┤ р╕Ьр╕╣р╣Йр╕кр╕╣р╕Зр╕нр╕▓р╕вр╕╕: р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕З р╕Юр╕▒р╕Бр╕Ьр╣Ир╕нр╕Щр╣Гр╕лр╣Йр╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н");
      }
    }

    if (userConditions.includes("children")) {
      if (pm25 > 90) {
        advice.push("ЁЯС╢ р╣Ар╕Фр╣Зр╕Бр╣Ар╕ер╣Зр╕Б: р╕лр╣Йр╕▓р╕бр╕нр╕нр╕Бр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щр╣Вр╕Фр╕вр╣Ар╕Фр╣Зр╕Фр╕Вр╕▓р╕Ф р╕гр╕░р╕Ър╕Ър╕лр╕▓р╕вр╣Гр╕Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М");
        advice.push("ЁЯПа р╣Ар╕ер╣Ир╕Щр╣Гр╕Щр╕Ър╣Йр╕▓р╕Щр╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ р╣Гр╕Кр╣Йр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Яр╕нр╕Бр╕нр╕▓р╕Бр╕▓р╕и");
      } else if (pm25 > 50) {
        advice.push("ЁЯС╢ р╣Ар╕Фр╣Зр╕Бр╣Ар╕ер╣Зр╕Б: р╕Ир╕│р╕Бр╕▒р╕Фр╣Ар╕зр╕ер╕▓р╣Ар╕ер╣Ир╕Щр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щ р╕кр╕зр╕бр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Бр╣Ар╕бр╕╖р╣Ир╕нр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕Ър╣Йр╕▓р╕Щ");
      }
    }

    if (userConditions.includes("allergy")) {
      if (pm25 > 50) {
        advice.push("ЁЯдз р╕ар╕╣р╕бр╕┤р╣Бр╕Юр╣Й: р╕Эр╕╕р╣Ир╕Щр╕Ир╕░р╕Чр╕│р╣Гр╕лр╣Йр╕нр╕▓р╕Бр╕▓р╕гр╣Бр╕вр╣Ир╕ер╕З р╣Гр╕Кр╣Йр╕вр╕▓р╣Бр╕Бр╣Йр╣Бр╕Юр╣Йр╕Хр╕▓р╕бр╣Бр╕Юр╕Чр╕вр╣Мр╕кр╕▒р╣Ир╕З");
        advice.push("ЁЯШ╖ р╕кр╕зр╕бр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Бр╣Бр╕ер╕░р╕ер╣Йр╕▓р╕Зр╕Ир╕бр╕╣р╕Бр╕Фр╣Йр╕зр╕вр╕Щр╣Йр╕│р╣Ар╕Бр╕ер╕╖р╕нр╕Ър╣Ир╕нр╕вр╣Ж");
      }
    }
    
    return advice;
  };

  const conditionAdvice = getConditionSpecificAdvice();
  const getRecommendations = () => {
    if (pm25 <= 12) {
      return {
        icon: <Shield className="w-5 h-5 text-aqi-good" />,
        title: "р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕нр╕▓р╕Бр╕▓р╕ир╕Фр╕╡р╣Ар╕вр╕╡р╣Ир╕вр╕б (0-12 ┬╡g/m┬│)",
        variant: "default" as const,
        items: [
          "тЬЕ р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕Зр╕Чр╕╕р╕Бр╕Ыр╕гр╕░р╣Ар╕ар╕Ч р╕гр╕зр╕бр╕Цр╕╢р╕Зр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕вр╕лр╕Щр╕▒р╕Б",
          "ЁЯПГ р╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕вр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕Зр╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в р╕зр╕┤р╣Ир╕З р╕Ыр╕▒р╣Ир╕Щр╕Ир╕▒р╕Бр╕гр╕вр╕▓р╕Щ р╕зр╣Ир╕▓р╕вр╕Щр╣Йр╕│",
          "ЁЯМ│ р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Юр╕▒р╕Бр╕Ьр╣Ир╕нр╕Щр╣Бр╕ер╕░р╕Чр╣Ир╕нр╕Зр╣Ар╕Чр╕╡р╣Ир╕вр╕зр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕З",
          "ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╕гр╕нр╕Ър╕Др╕гр╕▒р╕з р╣Ар╕Фр╣Зр╕Бр╣Ар╕ер╣Ир╕Щр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щр╣Др╕Фр╣Й",
          "ЁЯТЪ р╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓р╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Фр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Фр╕╣р╣Бр╕ер╕кр╕╕р╕Вр╕ар╕▓р╕Ю"
        ]
      };
    }
    
    if (pm25 <= 35.4) {
      return {
        icon: <AlertCircle className="w-5 h-5 text-aqi-moderate" />,
        title: "р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕нр╕▓р╕Бр╕▓р╕ир╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З (12.1-35.4 ┬╡g/m┬│)",
        variant: "default" as const,
        items: [
          "тЬЕ р╕Др╕Щр╕Чр╕▒р╣Ир╕зр╣Др╕Ыр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Чр╕│р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕Зр╣Др╕Фр╣Йр╕Хр╕▓р╕бр╕Ыр╕Бр╕Хр╕┤",
          "тЪая╕П р╕Ьр╕╣р╣Йр╕Чр╕╡р╣Ир╕бр╕╡р╣Вр╕гр╕Др╕Чр╕▓р╕Зр╣Ар╕Фр╕┤р╕Щр╕лр╕▓р╕вр╣Гр╕Ир╕нр╕▓р╕Ир╕гр╕╣р╣Йр╕кр╕╢р╕Бр╣Др╕бр╣Ир╕кр╕Ър╕▓р╕вр╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в р╕Др╕зр╕гр╕кр╕▒р╕Зр╣Ар╕Бр╕Хр╕нр╕▓р╕Бр╕▓р╕г",
          "ЁЯПГ р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕вр╣Др╕Фр╣Й р╣Бр╕Хр╣Ир╕ер╕Фр╕Др╕зр╕▓р╕бр╣Ар╕Вр╣Йр╕бр╕Вр╣Йр╕Щр╕ер╕Зр╕Цр╣Йр╕▓р╕гр╕╣р╣Йр╕кр╕╢р╕Бр╣Др╕бр╣Ир╕кр╕Ър╕▓р╕в",
          "ЁЯТз р╕Фр╕╖р╣Ир╕бр╕Щр╣Йр╕│р╣Гр╕лр╣Йр╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н 8-10 р╣Бр╕Бр╣Йр╕зр╕Хр╣Ир╕нр╕зр╕▒р╕Щ",
          "ЁЯМбя╕П р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕вр╣Гр╕Щр╕Кр╣Ир╕зр╕Зр╣Ар╕Чр╕╡р╣Ир╕вр╕Зр╕Чр╕╡р╣Ир╕нр╕▓р╕Бр╕▓р╕ир╕гр╣Йр╕нр╕Щ"
        ]
      };
    }

    if (pm25 <= 55.4) {
      return {
        icon: <AlertCircle className="w-5 h-5 text-aqi-unhealthy-sensitive" />,
        title: "р╣Ар╕гр╕┤р╣Ир╕бр╕бр╕╡р╕Ьр╕ер╕Бр╕гр╕░р╕Чр╕Ър╕Хр╣Ир╕нр╕кр╕╕р╕Вр╕ар╕▓р╕Ю (35.5-55.4 ┬╡g/m┬│)",
        variant: "destructive" as const,
        items: [
          "ЁЯШ╖ р╕кр╕зр╕бр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Б N95 р╕лр╕гр╕╖р╕н KN95 р╣Ар╕бр╕╖р╣Ир╕нр╕нр╕нр╕Бр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щ р╣Вр╕Фр╕вр╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕Ыр╣Зр╕Щр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щ",
          "тЪая╕П р╕Бр╕ер╕╕р╣Ир╕бр╣Ар╕кр╕╡р╣Ир╕вр╕З (р╣Ар╕Фр╣Зр╕Б р╕Ьр╕╣р╣Йр╕кр╕╣р╕Зр╕нр╕▓р╕вр╕╕ р╣Вр╕гр╕Др╕лр╕нр╕Ър╕лр╕╖р╕Ф COPD р╣Вр╕гр╕Др╕лр╕▒р╕зр╣Гр╕И) р╕Др╕зр╕гр╕ер╕Фр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕З",
          "ЁЯПа р╕Др╕зр╕гр╣Гр╕Кр╣Йр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Яр╕нр╕Бр╕нр╕▓р╕Бр╕▓р╕ир╣Гр╕Щр╕Ър╣Йр╕▓р╕Щ р╕Хр╕▒р╣Йр╕З HEPA filter",
          "ЁЯЪл р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕вр╕лр╕Щр╕▒р╕Бр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕З р╕Др╕зр╕гр╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕вр╣Гр╕Щр╕гр╣Ир╕б",
          "ЁЯС╢ р╣Ар╕Фр╣Зр╕Бр╣Ар╕ер╣Зр╕Бр╣Бр╕ер╕░р╕Ьр╕╣р╣Йр╕кр╕╣р╕Зр╕нр╕▓р╕вр╕╕р╕Др╕зр╕гр╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Ър╣Йр╕▓р╕Щр╣Гр╕лр╣Йр╕бр╕▓р╕Бр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф",
          "ЁЯкЯ р╕Ыр╕┤р╕Фр╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Эр╕╕р╣Ир╕Щр╣Ар╕Вр╣Йр╕▓р╕Ър╣Йр╕▓р╕Щ р╣Ар╕Ыр╕┤р╕Фр╣Ар╕бр╕╖р╣Ир╕нр╕нр╕▓р╕Бр╕▓р╕ир╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ"
        ]
      };
    }

    if (pm25 <= 90) {
      return {
        icon: <AlertCircle className="w-5 h-5 text-aqi-hazardous" />,
        title: "р╕бр╕╡р╕Ьр╕ер╕Бр╕гр╕░р╕Чр╕Ър╕Хр╣Ир╕нр╕кр╕╕р╕Вр╕ар╕▓р╕Юр╕бр╕▓р╕Б (55.5-90 ┬╡g/m┬│)",
        variant: "destructive" as const,
        items: [
          "ЁЯПа р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щр╕лр╕▓р╕Бр╣Др╕бр╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕нр╕вр╣Ир╕▓р╕Зр╕вр╕┤р╣Ир╕З",
          "ЁЯШ╖ р╕кр╕зр╕бр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Б N95 р╕Чр╕╡р╣Ир╕Ыр╕┤р╕Фр╕кр╕Щр╕┤р╕Чр╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕Ър╣Йр╕▓р╕Щ р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Бр╕Чр╕╕р╕Б 8 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З",
          "ЁЯЪл р╕Зр╕Фр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕вр╕Бр╕ер╕▓р╕Зр╣Бр╕Ир╣Йр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф р╕нр╕нр╕Бр╕Бр╕│р╕ер╕▒р╕Зр╕Бр╕▓р╕вр╣Гр╕Щр╕гр╣Ир╕бр╣Бр╕Чр╕Щ",
          "ЁЯТи р╣Ар╕Ыр╕┤р╕Фр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Яр╕нр╕Бр╕нр╕▓р╕Бр╕▓р╕ир╣Гр╕Щр╕Ър╣Йр╕▓р╕Щр╕Хр╕ер╕нр╕Ф 24 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З",
          "ЁЯС╢ р╣Ар╕Фр╣Зр╕Б р╕Ьр╕╣р╣Йр╕кр╕╣р╕Зр╕нр╕▓р╕вр╕╕ р╕лр╕Нр╕┤р╕Зр╕Хр╕▒р╣Йр╕Зр╕Др╕гр╕гр╕ар╣М р╣Бр╕ер╕░р╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕вр╣Вр╕гр╕Др╣Ар╕гр╕╖р╣Йр╕нр╕гр╕▒р╕Зр╕Др╕зр╕гр╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Ър╣Йр╕▓р╕Щр╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ",
          "ЁЯкЯ р╕Ыр╕┤р╕Фр╕Ыр╕гр╕░р╕Хр╕╣р╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╕кр╕Щр╕┤р╕Ч р╕нр╕╕р╕Фр╕Кр╣Ир╕нр╕Зр╕зр╣Ир╕▓р╕Зр╕Фр╣Йр╕зр╕вр╕Ьр╣Йр╕▓р╕Кр╕╕р╕Ър╕Щр╣Йр╕│",
          "ЁЯТК р╣Ар╕Хр╕гр╕╡р╕вр╕бр╕вр╕▓р╕Ыр╕гр╕░р╕Ир╕│р╕Хр╕▒р╕зр╣Др╕зр╣Йр╣Гр╕Бр╕ер╣Йр╕бр╕╖р╕н р╣Вр╕Фр╕вр╣Ар╕Йр╕Юр╕▓р╕░р╕вр╕▓р╕лр╕нр╕Ър╕лр╕╖р╕Ф",
          "ЁЯУЮ р╣Ар╕Хр╕гр╕╡р╕вр╕бр╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕гр╕Йр╕╕р╕Бр╣Ар╕Йр╕┤р╕Щ 1669 р╣Бр╕ер╕░р╣Вр╕гр╕Зр╕Юр╕вр╕▓р╕Ър╕▓р╕е"
        ]
      };
    }

    return {
      icon: <AlertCircle className="w-5 h-5 text-aqi-hazardous" />,
      title: "ЁЯЪи р╕нр╕▒р╕Щр╕Хр╕гр╕▓р╕вр╕Хр╣Ир╕нр╕кр╕╕р╕Вр╕ар╕▓р╕Юр╕нр╕вр╣Ир╕▓р╕Зр╕гр╣Йр╕▓р╕вр╣Бр╕гр╕З (>90 ┬╡g/m┬│)",
      variant: "destructive" as const,
      items: [
        "ЁЯПа р╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Ър╣Йр╕▓р╕Щр╣Вр╕Фр╕вр╣Ар╕Фр╣Зр╕Фр╕Вр╕▓р╕Ф р╕вр╕Бр╣Ар╕ер╕┤р╕Бр╕Щр╕▒р╕Фр╕лр╕бр╕▓р╕вр╣Бр╕ер╕░р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф",
        "ЁЯЪк р╕Ыр╕┤р╕Фр╕Ыр╕гр╕░р╕Хр╕╣р╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕кр╕Щр╕┤р╕Ч р╕нр╕╕р╕Фр╕Кр╣Ир╕нр╕Зр╕зр╣Ир╕▓р╕Зр╕Чр╕╕р╕Бр╕Ир╕╕р╕Ф",
        "ЁЯТи р╣Ар╕Ыр╕┤р╕Фр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Яр╕нр╕Бр╕нр╕▓р╕Бр╕▓р╕ир╣Ар╕Хр╣Зр╕бр╕Бр╕│р╕ер╕▒р╕З р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Йр╕лр╕ер╕▓р╕вр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ",
        "ЁЯШ╖ р╕Др╕зр╕гр╕кр╕зр╕бр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Б N95 р╣Бр╕бр╣Йр╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Ър╣Йр╕▓р╕Щ р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╕бр╕╡р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Яр╕нр╕Бр╕нр╕▓р╕Бр╕▓р╕и",
        "ЁЯЪл р╕лр╣Йр╕▓р╕бр╕нр╕нр╕Бр╕Щр╕нр╕Бр╕Ър╣Йр╕▓р╕Щр╣Вр╕Фр╕вр╣Ар╕Фр╣Зр╕Фр╕Вр╕▓р╕Ф р╕вр╕Бр╣Ар╕зр╣Йр╕Щр╕Бр╕гр╕Ур╕╡р╕Йр╕╕р╕Бр╣Ар╕Йр╕┤р╕Щр╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ",
        "ЁЯУЮ р╕кр╕▒р╕Зр╣Ар╕Бр╕Хр╕нр╕▓р╕Бр╕▓р╕гр╕Хр╕▒р╕зр╣Ар╕нр╕З р╕лр╕▓р╕Бр╕лр╕▓р╕вр╣Гр╕Ир╕ер╕│р╕Ър╕▓р╕Б р╣Ар╕Ир╣Зр╕Ър╕лр╕Щр╣Йр╕▓р╕нр╕Б р╕зр╕┤р╕Зр╣Ар╕зр╕╡р╕вр╕Щ р╣Вр╕Чр╕г 1669 р╕Чр╕▒р╕Щр╕Чр╕╡",
        "ЁЯПе р╕Бр╕ер╕╕р╣Ир╕бр╣Ар╕кр╕╡р╣Ир╕вр╕Зр╕Др╕зр╕гр╣Ар╕Хр╕гр╕╡р╕вр╕бр╕Юр╕гр╣Йр╕нр╕бр╣Др╕Ыр╣Вр╕гр╕Зр╕Юр╕вр╕▓р╕Ър╕▓р╕е р╕бр╕╡р╕нр╕▓р╕Бр╕▓р╕гр╣Ар╕Юр╕╡р╕вр╕Зр╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕вр╕Бр╣Зр╕Др╕зр╕гр╕гр╕╡р╕Ър╕Юр╕Ър╣Бр╕Юр╕Чр╕вр╣М",
        "ЁЯТК р╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕вр╣Вр╕гр╕Др╣Ар╕гр╕╖р╣Йр╕нр╕гр╕▒р╕Зр╕гр╕▒р╕Ър╕Ыр╕гр╕░р╕Чр╕▓р╕Щр╕вр╕▓р╕Хр╕гр╕Зр╣Ар╕зр╕ер╕▓р╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕Др╕гр╣Ир╕Зр╕Др╕гр╕▒р╕Ф",
        "ЁЯТз р╕Фр╕╖р╣Ир╕бр╕Щр╣Йр╕│р╕кр╕░р╕нр╕▓р╕Фр╕бр╕▓р╕Бр╣Ж р╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 2-3 р╕ер╕┤р╕Хр╕гр╕Хр╣Ир╕нр╕зр╕▒р╕Щ",
        "ЁЯНО р╕гр╕▒р╕Ър╕Ыр╕гр╕░р╕Чр╕▓р╕Щр╕нр╕▓р╕лр╕▓р╕гр╕Чр╕╡р╣Ир╕бр╕╡р╕зр╕┤р╕Хр╕▓р╕бр╕┤р╕Щ C р╕кр╕╣р╕З р╣Ар╕Кр╣Ир╕Щ р╕кр╣Йр╕б р╕бр╕░р╕Щр╕▓р╕з р╕Эр╕гр╕▒р╣Ир╕З"
      ]
    };
  };

  const recommendations = getRecommendations();

  return (
    <Card className="shadow-card">
      <div className="p-6 space-y-4">
        <div className="flex items-center gap-2">
          {recommendations.icon}
          <h2 className="text-lg font-semibold text-foreground">
            {recommendations.title}
          </h2>
        </div>

        {hasHealthConditions && pm25 > 37 && (
          <Alert variant={recommendations.variant} className="border-destructive bg-destructive/10">
            <AlertCircle className="h-4 w-4" />
            <AlertDescription className="text-sm">
              р╕Др╕╕р╕Ур╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Бр╕ер╕╕р╣Ир╕бр╣Ар╕кр╕╡р╣Ир╕вр╕З р╣Вр╕Ыр╕гр╕Фр╕гр╕░р╕бр╕▒р╕Фр╕гр╕░р╕зр╕▒р╕Зр╣Ар╕Ыр╣Зр╕Щр╕Юр╕┤р╣Ар╕ир╕йр╣Бр╕ер╕░р╕Ыр╕Пр╕┤р╕Ър╕▒р╕Хр╕┤р╕Хр╕▓р╕бр╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕Др╕гр╣Ир╕Зр╕Др╕гр╕▒р╕Ф
            </AlertDescription>
          </Alert>
        )}

        <div className="space-y-3">
          {recommendations.items.map((item, index) => (
            <div key={index} className="flex items-start gap-3">
              <div className="mt-1 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0" />
              <p className="text-sm text-foreground">{item}</p>
            </div>
          ))}
        </div>

        {conditionAdvice.length > 0 && (
          <div className="space-y-2 pt-4 border-t border-border">
            <h3 className="text-sm font-semibold text-foreground flex items-center gap-2">
              <Heart className="w-4 h-4 text-destructive" />
              р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╣Ар╕Йр╕Юр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Вр╕гр╕Др╕Ыр╕гр╕░р╕Ир╕│р╕Хр╕▒р╕зр╕Вр╕нр╕Зр╕Др╕╕р╕У
            </h3>
            <div className="space-y-2">
              {conditionAdvice.map((advice, index) => (
                <div key={index} className="flex items-start gap-2 bg-muted/50 p-2 rounded-md">
                  <div className="mt-1 w-1.5 h-1.5 rounded-full bg-destructive flex-shrink-0" />
                  <p className="text-sm text-foreground">{advice}</p>
                </div>
              ))}
            </div>
          </div>
        )}

        <div className="pt-4 border-t border-border">
          <div className="grid grid-cols-3 gap-4 text-center">
            <div className="space-y-1">
              <Droplets className="w-5 h-5 mx-auto text-primary" />
              <p className="text-xs text-muted-foreground">р╕Фр╕╖р╣Ир╕бр╕Щр╣Йр╕│</p>
            </div>
            <div className="space-y-1">
              <Shield className="w-5 h-5 mx-auto text-primary" />
              <p className="text-xs text-muted-foreground">р╕кр╕зр╕бр╕лр╕Щр╣Йр╕▓р╕Бр╕▓р╕Б</p>
            </div>
            <div className="space-y-1">
              <WindIcon className="w-5 h-5 mx-auto text-primary" />
              <p className="text-xs text-muted-foreground">р╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕гр╣Ир╕б</p>
            </div>
          </div>
        </div>
      </div>
    </Card>
  );
};
